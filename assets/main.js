(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function c(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(e){if(e.ep)return;e.ep=!0;const a=c(e);fetch(e.href,a)}})();function v(){const o=document.getElementById("modal-retencao"),n=document.getElementById("btn-ficar"),c=document.getElementById("btn-sair");let t=!1;const e=()=>{window.history.state?.trava||(window.history.pushState({trava:!0},""),console.log("Sistema de retenção pronto."),window.onpopstate=a=>{t||(t=!0,o.style.display="flex",window.history.pushState({trava:!0},""))})};n.onclick=()=>{o.style.display="none";const a=encodeURIComponent("Vim pela página de Elite e quero meu Diagnóstico de Escala. Estou cansado do operacional.");window.open(`https://wa.me/5511999999999?text=${a}`,"_blank")},c.onclick=()=>{t=!1,o.style.display="none",window.onpopstate=null,window.history.go(-2)},document.addEventListener("click",e,{once:!0}),document.addEventListener("scroll",e,{once:!0})}function b(){document.getElementById("theme-toggle").addEventListener("click",()=>{document.documentElement.getAttribute("data-theme")==="light"?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"))})}function w(){const o={root:null,rootMargin:"0px",threshold:.1},n=new IntersectionObserver(c=>{c.forEach(t=>{const e=t.target;t.isIntersecting?(requestAnimationFrame(()=>{e.classList.add("active"),e.classList.add("animate")}),e.classList.contains("reveal")&&n.unobserve(e)):e.classList.contains("reveal")||requestAnimationFrame(()=>{e.classList.remove("active")})})},o);document.querySelectorAll(".reveal, header, section, footer").forEach(c=>{n.observe(c)})}function L(){const o=document.getElementById("modal-compra"),n=document.getElementById("quero-ser-elite"),c=document.querySelector(".modal__close"),t=document.querySelector(".btn-checkout"),e=document.getElementById("btn-icon-treinamento"),a=document.getElementById("cta_faq"),r=document.getElementById("btn_hero__button"),i=document.getElementById("offer_mockup"),p=document.getElementById("quero-ser-elite"),g=s=>new Promise((m,E)=>{if(document.querySelector(`script[src="${s}"]`))return m();const l=document.createElement("script");l.src=s,l.async=!0,l.onload=m,l.onerror=E,document.head.appendChild(l)}),d=s=>{s.preventDefault(),o.style.display="flex",document.body.style.overflow="hidden",g("https://sdk.mercadopago.com/js/v2").catch(m=>console.error("Erro ao pré-carregar SDK",m))},u=()=>{o.style.display="none",document.body.style.overflow="auto"},y=async()=>{t.innerHTML='<span class="spinner"></span> PROCESSANDO...',t.style.pointerEvents="none";try{await g("https://sdk.mercadopago.com/js/v2"),setTimeout(()=>{const s=document.createElement("div");s.className="api-simulada-overlay",s.innerHTML=`
                    <div class="api-simulada-content">
                        <img src="https://img.icons8.com/color/96/mercado-pago.png" alt="Mercado Pago">
                        <h3>Ambiente de Demonstração</h3>
                        <p>A API do Mercado Pago foi carregada com sucesso via script dinâmico para garantir <strong>Performance Máxima (Core Web Vitals)</strong>.</p>
                        <div class="status-badge">DEVELOPER MODE: ONLINE</div>
                        <button onclick="this.parentElement.parentElement.remove()" class="btn-close-api">VOLTAR AO PROJETO</button>
                    </div>
                `,document.body.appendChild(s),t.innerHTML="FINALIZAR INSCRIÇÃO AGORA",t.style.pointerEvents="all"},1500)}catch{t.innerHTML="ERRO NA CONEXÃO",t.style.pointerEvents="all"}};i&&i.addEventListener("click",h),n&&n.addEventListener("click",d),a&&a.addEventListener("click",d),r&&r.addEventListener("click",d),e&&e.addEventListener("click",d),c&&c.addEventListener("click",u),t&&t.addEventListener("click",y);function h(){i.style.opacity=.5,p.focus()}window.addEventListener("click",s=>{s.target===o&&u()}),document.addEventListener("keydown",s=>{s.key==="Escape"&&u()})}function f(){(function(o,n,c,t,e){o[t]=o[t]||[],o[t].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var a=n.getElementsByTagName(c)[0],r=n.createElement(c),i="";r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id="+e+i,a.parentNode.insertBefore(r,a)})(window,document,"script","dataLayer","GTM-KFT4K58W"),console.log("GTM carregado em tempo ocioso para manter Performance 100.")}function k(){const o=document.getElementById("cookie-banner"),n=document.getElementById("cookie-accept");localStorage.getItem("cookies-aceitos")||(window.requestIdleCallback(()=>{setTimeout(()=>o.classList.add("active"),3e3)}),window.addEventListener("load",()=>{setTimeout(()=>o.classList.add("active"),4e3)}),n.addEventListener("click",()=>{o.classList.remove("active"),localStorage.setItem("cookies-aceitos","true"),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"cookie_consent_accepted"})}))}window.addEventListener("load",()=>{k();const o=[()=>b(),()=>L(),()=>w(),()=>v()],n=()=>{"requestIdleCallback"in window?requestIdleCallback(()=>{setTimeout(()=>f(),2e3)}):setTimeout(()=>f(),4e3)},c=t=>{for(;t.timeRemaining()>1&&o.length>0;)o.shift()();o.length>0?requestIdleCallback(c):(console.log("⚡ Sistemas funcionais prontos. Agendando Marketing..."),n())};if("requestIdleCallback"in window)requestIdleCallback(c,{timeout:3e3});else{const t=()=>{o.length>0?(o.shift()(),setTimeout(t,100)):n()};setTimeout(t,200)}});
//# sourceMappingURL=main.js.map
