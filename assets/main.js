(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function c(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(t){if(t.ep)return;t.ep=!0;const a=c(t);fetch(t.href,a)}})();function E(){const e=document.getElementById("modal-retencao"),o=document.getElementById("btn-ficar"),c=document.getElementById("btn-sair");let n=!1;const t=()=>{window.history.state?.trava||(window.history.pushState({trava:!0},""),console.log("Sistema de reten√ß√£o pronto."),window.onpopstate=a=>{n||(n=!0,e.style.display="flex",window.history.pushState({trava:!0},""))})};o.onclick=()=>{e.style.display="none";const a=encodeURIComponent("Vim pela p√°gina de Elite e quero meu Diagn√≥stico de Escala. Estou cansado do operacional.");window.open(`https://wa.me/5511999999999?text=${a}`,"_blank")},c.onclick=()=>{n=!1,e.style.display="none",window.onpopstate=null,window.history.go(-2)},document.addEventListener("click",t,{once:!0}),document.addEventListener("scroll",t,{once:!0})}function b(){document.getElementById("theme-toggle").addEventListener("click",()=>{document.documentElement.getAttribute("data-theme")==="light"?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"))})}function w(){const e={root:null,rootMargin:"0px",threshold:.1},o=new IntersectionObserver(c=>{c.forEach(n=>{const t=n.target;n.isIntersecting?(requestAnimationFrame(()=>{t.classList.add("active"),t.classList.add("animate")}),t.classList.contains("reveal")&&o.unobserve(t)):t.classList.contains("reveal")||requestAnimationFrame(()=>{t.classList.remove("active")})})},e);document.querySelectorAll(".reveal, header, section, footer").forEach(c=>{o.observe(c)})}function L(){const e=document.getElementById("modal-compra"),o=document.getElementById("quero-ser-elite"),c=document.querySelector(".modal__close"),n=document.querySelector(".btn-checkout"),t=document.getElementById("btn-icon-treinamento"),a=document.getElementById("cta_faq"),i=document.getElementById("btn_hero__button"),r=document.getElementById("offer_mockup"),f=document.getElementById("quero-ser-elite"),m=s=>new Promise((y,h)=>{if(document.querySelector(`script[src="${s}"]`))return y();const u=document.createElement("script");u.src=s,u.async=!0,u.onload=y,u.onerror=h,document.head.appendChild(u)}),l=s=>{s.preventDefault(),e.style.display="flex",document.body.style.overflow="hidden",m("https://sdk.mercadopago.com/js/v2").catch(y=>console.error("Erro ao pr√©-carregar SDK",y))},d=()=>{e.style.display="none",document.body.style.overflow="auto"},g=async()=>{n.innerHTML='<span class="spinner"></span> PROCESSANDO...',n.style.pointerEvents="none";try{await m("https://sdk.mercadopago.com/js/v2"),setTimeout(()=>{const s=document.createElement("div");s.className="api-simulada-overlay",s.innerHTML=`
                    <div class="api-simulada-content">
                        <img src="https://img.icons8.com/color/96/mercado-pago.png" alt="Mercado Pago">
                        <h3>Ambiente de Demonstra√ß√£o</h3>
                        <p>A API do Mercado Pago foi carregada com sucesso via script din√¢mico para garantir <strong>Performance M√°xima (Core Web Vitals)</strong>.</p>
                        <div class="status-badge">DEVELOPER MODE: ONLINE</div>
                        <button onclick="this.parentElement.parentElement.remove()" class="btn-close-api">VOLTAR AO PROJETO</button>
                    </div>
                `,document.body.appendChild(s),n.innerHTML="FINALIZAR INSCRI√á√ÉO AGORA",n.style.pointerEvents="all"},1500)}catch{n.innerHTML="ERRO NA CONEX√ÉO",n.style.pointerEvents="all"}};r&&r.addEventListener("click",p),o&&o.addEventListener("click",l),a&&a.addEventListener("click",l),i&&i.addEventListener("click",l),t&&t.addEventListener("click",l),c&&c.addEventListener("click",d),n&&n.addEventListener("click",g);function p(){r.style.opacity=.5,f.focus()}window.addEventListener("click",s=>{s.target===e&&d()}),document.addEventListener("keydown",s=>{s.key==="Escape"&&d()})}function v(){window.gtm_inicializado||(window.gtm_inicializado=!0,(function(e,o,c,n,t){e[n]=e[n]||[],e[n].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var a=o.getElementsByTagName(c)[0],i=o.createElement(c),r="";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+t+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-KFT4K58W"),console.log("üöÄ GTM Ativado"))}function k(){const e=document.getElementById("cookie-banner"),o=document.getElementById("cookie-modal"),c=document.getElementById("cookie-accept"),n=document.getElementById("cookie-settings"),t=document.getElementById("cookie-save-prefs"),a=document.getElementById("pref-analytics"),i=document.getElementById("pref-marketing"),r=JSON.parse(localStorage.getItem("cookie-consent-v2"));if(r){e&&(e.classList.add("hidden-force"),e.style.display="none"),(r.analytics||r.marketing)&&(v(),l(r));return}const f=()=>{e&&(e.style.display="flex",setTimeout(()=>{e.classList.add("active"),e.setAttribute("aria-hidden","false")},100))};"requestIdleCallback"in window?window.requestIdleCallback(()=>setTimeout(f,3e3)):window.addEventListener("load",()=>setTimeout(f,3e3));const m=(d,g)=>{const p={analytics:d,marketing:g,date:new Date().toISOString()};localStorage.setItem("cookie-consent-v2",JSON.stringify(p)),(d||g)&&(v(),l(p)),e?.classList.remove("active"),o?.classList.remove("active"),e&&(e.classList.add("hidden-force"),setTimeout(()=>e.style.display="none",500))};function l(d){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"cookie_consent_updated",consent_analytics:d.analytics,consent_marketing:d.marketing})}n?.addEventListener("click",()=>{e?.classList.remove("active"),o?.classList.add("active"),o?.setAttribute("aria-hidden","false")}),t?.addEventListener("click",()=>{m(a.checked,i.checked)}),c?.addEventListener("click",()=>{m(!0,!0)})}window.addEventListener("load",()=>{k();const e=[()=>b(),()=>L(),()=>w(),()=>E()],o=c=>{for(;c.timeRemaining()>1&&e.length>0;)e.shift()();e.length>0&&requestIdleCallback(o)};"requestIdleCallback"in window?requestIdleCallback(o,{timeout:3e3}):e.forEach(c=>c())});
//# sourceMappingURL=main.js.map
