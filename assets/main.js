(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function a(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=a(t);fetch(t.href,s)}})();function E(){const e=document.getElementById("modal-retencao"),o=document.getElementById("btn-ficar"),a=document.getElementById("btn-sair");let n=!1;const t=()=>{window.history.state?.trava||(window.history.pushState({trava:!0},""),console.log("Sistema de reten√ß√£o pronto."),window.onpopstate=s=>{n||(n=!0,e.style.display="flex",window.history.pushState({trava:!0},""))})};o.onclick=()=>{e.style.display="none";const s=encodeURIComponent("Vim pela p√°gina de Elite e quero meu Diagn√≥stico de Escala. Estou cansado do operacional.");window.open(`https://wa.me/5511999999999?text=${s}`,"_blank")},a.onclick=()=>{n=!1,e.style.display="none",window.onpopstate=null,window.history.go(-2)},document.addEventListener("click",t,{once:!0}),document.addEventListener("scroll",t,{once:!0})}function b(){document.getElementById("theme-toggle").addEventListener("click",()=>{document.documentElement.getAttribute("data-theme")==="light"?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"))})}function w(){const e={root:null,rootMargin:"0px",threshold:.1},o=new IntersectionObserver(a=>{a.forEach(n=>{const t=n.target;n.isIntersecting?(requestAnimationFrame(()=>{t.classList.add("active"),t.classList.add("animate")}),t.classList.contains("reveal")&&o.unobserve(t)):t.classList.contains("reveal")||requestAnimationFrame(()=>{t.classList.remove("active")})})},e);document.querySelectorAll(".reveal, header, section, footer").forEach(a=>{o.observe(a)})}function L(){const e=document.getElementById("modal-compra"),o=document.getElementById("quero-ser-elite"),a=document.querySelector(".modal__close"),n=document.querySelector(".btn-checkout"),t=document.getElementById("btn-icon-treinamento"),s=document.getElementById("cta_faq"),d=document.getElementById("btn_hero__button"),r=document.getElementById("offer_mockup"),u=document.getElementById("quero-ser-elite"),p=i=>new Promise((l,h)=>{if(document.querySelector(`script[src="${i}"]`))return l();const y=document.createElement("script");y.src=i,y.async=!0,y.onload=l,y.onerror=h,document.head.appendChild(y)}),m=i=>{i.preventDefault(),e.style.display="flex",document.body.style.overflow="hidden",p("https://sdk.mercadopago.com/js/v2").catch(l=>console.error("Erro ao pr√©-carregar SDK",l))},f=()=>{e.style.display="none",document.body.style.overflow="auto"},c=async()=>{n.innerHTML='<span class="spinner"></span> PROCESSANDO...',n.style.pointerEvents="none";try{await p("https://sdk.mercadopago.com/js/v2"),setTimeout(()=>{const i=document.createElement("div");i.className="api-simulada-overlay",i.innerHTML=`
                    <div class="api-simulada-content">
                        <img src="https://img.icons8.com/color/96/mercado-pago.png" alt="Mercado Pago">
                        <h3>Ambiente de Demonstra√ß√£o</h3>
                        <p>A API do Mercado Pago foi carregada com sucesso via script din√¢mico para garantir <strong>Performance M√°xima (Core Web Vitals)</strong>.</p>
                        <div class="status-badge">DEVELOPER MODE: ONLINE</div>
                        <button onclick="this.parentElement.parentElement.remove()" class="btn-close-api">VOLTAR AO PROJETO</button>
                    </div>
                `,document.body.appendChild(i),n.innerHTML="FINALIZAR INSCRI√á√ÉO AGORA",n.style.pointerEvents="all"},1500)}catch{n.innerHTML="ERRO NA CONEX√ÉO",n.style.pointerEvents="all"}};r&&r.addEventListener("click",g),o&&o.addEventListener("click",m),s&&s.addEventListener("click",m),d&&d.addEventListener("click",m),t&&t.addEventListener("click",m),a&&a.addEventListener("click",f),n&&n.addEventListener("click",c);function g(){r.style.opacity=.5,u.focus()}window.addEventListener("click",i=>{i.target===e&&f()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&f()})}function v(){window.gtm_inicializado||(window.gtm_inicializado=!0,(function(e,o,a,n,t){e[n]=e[n]||[],e[n].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var s=o.getElementsByTagName(a)[0],d=o.createElement(a),r="";d.async=!0,d.src="https://www.googletagmanager.com/gtm.js?id="+t+r,s.parentNode.insertBefore(d,s)})(window,document,"script","dataLayer","GTM-KFT4K58W"),console.log("üöÄ GTM Ativado"))}function k(){const e=document.getElementById("cookie-banner"),o=document.getElementById("cookie-modal"),a=document.getElementById("cookie-accept"),n=document.getElementById("cookie-settings"),t=document.getElementById("cookie-save-prefs"),s=document.getElementById("pref-analytics"),d=document.getElementById("pref-marketing"),r=(c,g)=>{if(!c)return;const i=c.querySelectorAll("button, [href], input, label");g?(c.style.display="flex",c.setAttribute("aria-hidden","false"),i.forEach(l=>l.setAttribute("tabindex","0"))):(c.setAttribute("aria-hidden","true"),i.forEach(l=>l.setAttribute("tabindex","-1")),setTimeout(()=>{c.classList.contains("active")||(c.style.display="none")},500))};r(e,!1),r(o,!1);const u=JSON.parse(localStorage.getItem("cookie-consent-v2"));if(u){e&&(e.classList.add("hidden-force"),e.style.display="none"),(u.analytics||u.marketing)&&(v(),f(u));return}const p=()=>{e&&(r(e,!0),setTimeout(()=>e.classList.add("active"),10))};"requestIdleCallback"in window?window.requestIdleCallback(()=>setTimeout(p,3e3)):window.addEventListener("load",()=>setTimeout(p,3e3));const m=(c,g)=>{const i={analytics:c,marketing:g,date:new Date().toISOString()};localStorage.setItem("cookie-consent-v2",JSON.stringify(i)),(c||g)&&(v(),f(i)),e?.classList.remove("active"),o?.classList.remove("active"),r(e,!1),r(o,!1),e&&e.classList.add("hidden-force")};function f(c){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"cookie_consent_updated",consent_analytics:c.analytics,consent_marketing:c.marketing})}n?.addEventListener("click",()=>{r(e,!1),e?.classList.remove("active"),r(o,!0),o?.classList.add("active")}),t?.addEventListener("click",()=>m(s.checked,d.checked)),a?.addEventListener("click",()=>m(!0,!0))}window.addEventListener("load",()=>{k();const e=[()=>b(),()=>L(),()=>w(),()=>E()],o=a=>{for(;a.timeRemaining()>1&&e.length>0;)e.shift()();e.length>0&&requestIdleCallback(o)};"requestIdleCallback"in window?requestIdleCallback(o,{timeout:3e3}):e.forEach(a=>a())});
//# sourceMappingURL=main.js.map
